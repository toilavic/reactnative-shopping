{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nvar _jsxFileName = \"/home/vic/reactnative/shop/components/NewItem.js\";\nimport React, { useEffect, useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport TouchableHighlight from \"react-native-web/dist/exports/TouchableHighlight\";\n\nvar NewItem = function NewItem(props) {\n  var _React$useState = React.useState(\"\"),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      title = _React$useState2[0],\n      setTitle = _React$useState2[1];\n\n  var _React$useState3 = React.useState(\"\"),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      desc = _React$useState4[0],\n      setDesc = _React$useState4[1];\n\n  var _React$useState5 = React.useState(\"\"),\n      _React$useState6 = _slicedToArray(_React$useState5, 2),\n      category = _React$useState6[0],\n      setCategory = _React$useState6[1];\n\n  var _React$useState7 = React.useState(\"\"),\n      _React$useState8 = _slicedToArray(_React$useState7, 2),\n      country = _React$useState8[0],\n      setCountry = _React$useState8[1];\n\n  var _React$useState9 = React.useState(\"\"),\n      _React$useState10 = _slicedToArray(_React$useState9, 2),\n      city = _React$useState10[0],\n      setCity = _React$useState10[1];\n\n  var _React$useState11 = React.useState([\"\"]),\n      _React$useState12 = _slicedToArray(_React$useState11, 2),\n      image = _React$useState12[0],\n      setIMG = _React$useState12[1];\n\n  var _React$useState13 = React.useState(\"\"),\n      _React$useState14 = _slicedToArray(_React$useState13, 2),\n      price = _React$useState14[0],\n      setPrice = _React$useState14[1];\n\n  var _React$useState15 = React.useState(\"\"),\n      _React$useState16 = _slicedToArray(_React$useState15, 2),\n      deliveryType = _React$useState16[0],\n      setDType = _React$useState16[1];\n\n  function onEdit() {\n    return _regeneratorRuntime.async(function onEdit$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            console.log(props.apiURI + '/items' + (\"/\" + props.itemToEdit.id));\n            _context.next = 3;\n            return _regeneratorRuntime.awrap(fetch(props.apiURI + '/items' + (\"/\" + props.itemToEdit.id), {\n              method: 'PUT',\n              headers: {\n                \"Authorization\": \"Bearer \" + props.userData.token,\n                \"Content-Type\": \"application/json\"\n              },\n              body: JSON.stringify({\n                \"title\": title,\n                \"description\": desc,\n                \"category\": category,\n                \"location\": {\n                  \"country\": country,\n                  \"city\": city\n                },\n                \"images\": image,\n                \"price\": price,\n                \"deliveryType\": deliveryType\n              })\n            }).then(function (response) {\n              if (response.ok == false) {\n                throw new Error(\"HTTP Code \" + response.status + \" - \" + JSON.stringify(response.json()));\n              }\n\n              return response.json();\n            }).then(function (json) {\n              return props.navigation.reset({\n                index: 0,\n                routes: [{\n                  name: 'TodoApp'\n                }]\n              });\n            }).catch(function (error) {\n              console.log(\"Error message:\");\n              console.log(error.message);\n            }));\n\n          case 3:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, null, null, null, Promise);\n  }\n\n  var item = props.itemToEdit;\n  return React.createElement(View, {\n    style: styles.screen,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }\n  }, React.createElement(Text, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }\n  }, \"Title\"), React.createElement(TextInput, {\n    style: styles.input,\n    value: title,\n    placeholder: item.title,\n    onChangeText: function onChangeText(value) {\n      return setTitle(value);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }\n  }), React.createElement(Text, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 13\n    }\n  }, \"Description\"), React.createElement(TextInput, {\n    style: styles.input,\n    value: desc,\n    placeholder: item.description,\n    onChangeText: function onChangeText(value) {\n      return setDesc(value);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 13\n    }\n  }), React.createElement(Text, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 13\n    }\n  }, \"Category\"), React.createElement(TextInput, {\n    style: styles.input,\n    value: category,\n    placeholder: item.category,\n    onChangeText: function onChangeText(value) {\n      return setCategory(value);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }\n  }), React.createElement(Text, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }\n  }, \"Images link\"), React.createElement(TextInput, {\n    style: styles.input,\n    value: image,\n    placeholder: \"Link to images\",\n    onChangeText: function onChangeText(value) {\n      return setIMG([value]);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }\n  }), React.createElement(Text, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }\n  }, \"Location\"), React.createElement(TextInput, {\n    style: styles.input,\n    value: country,\n    placeholder: item.location.country,\n    onChangeText: function onChangeText(value) {\n      return setCountry(value);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 13\n    }\n  }), React.createElement(TextInput, {\n    style: styles.input,\n    value: city,\n    placeholder: item.location.city,\n    onChangeText: function onChangeText(value) {\n      return setCity(value);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }\n  }), React.createElement(Text, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }\n  }, \"Price\"), React.createElement(TextInput, {\n    style: styles.input,\n    value: price,\n    placeholder: \"$\",\n    onChangeText: function onChangeText(value) {\n      return setPrice(value);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 13\n    }\n  }), React.createElement(Text, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 105,\n      columnNumber: 13\n    }\n  }, \"Delivery Type\"), React.createElement(TextInput, {\n    style: styles.input,\n    value: deliveryType,\n    placeholder: item.deliveryType,\n    onChangeText: function onChangeText(value) {\n      return setDType(value);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 13\n    }\n  }), React.createElement(TouchableHighlight, {\n    onPress: function onPress() {\n      return onEdit();\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 13\n    }\n  }, React.createElement(View, {\n    style: styles.primaryButton,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 17\n    }\n  }, React.createElement(Text, {\n    style: styles.primaryButtonText,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 21\n    }\n  }, \"Edit Item\"))), React.createElement(Button, {\n    title: \"Cancel\",\n    color: \"#000000\",\n    onPress: function onPress() {\n      return props.navigation.reset({\n        index: 0,\n        routes: [{\n          name: 'TodoApp'\n        }]\n      });\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 13\n    }\n  }));\n};\n\nvar styles = StyleSheet.create({\n  screen: {\n    backgroundColor: 'rgb(227, 178, 0)',\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    marginTop: -10\n  },\n  text: {\n    fontSize: 20,\n    color: 'white'\n  },\n  input: {\n    borderWidth: 1,\n    borderRadius: 20,\n    height: 32,\n    width: '90%',\n    backgroundColor: 'white',\n    textAlign: 'center',\n    fontSize: 16,\n    marginTop: 5,\n    marginBottom: 20\n  },\n  primaryButton: {\n    backgroundColor: 'rgb(0, 153, 51)',\n    height: 40,\n    width: 150,\n    justifyContent: 'center',\n    alignItems: 'center',\n    borderColor: 'black',\n    borderWidth: 2,\n    marginTop: 5,\n    marginBottom: 5\n  },\n  primaryButtonText: {\n    color: 'white',\n    fontSize: 20\n  }\n});\nexport default NewItem;","map":{"version":3,"sources":["/home/vic/reactnative/shop/components/NewItem.js"],"names":["React","useEffect","useState","NewItem","props","title","setTitle","desc","setDesc","category","setCategory","country","setCountry","city","setCity","image","setIMG","price","setPrice","deliveryType","setDType","onEdit","console","log","apiURI","itemToEdit","id","fetch","method","headers","userData","token","body","JSON","stringify","then","response","ok","Error","status","json","navigation","reset","index","routes","name","catch","error","message","item","styles","screen","input","value","description","location","primaryButton","primaryButtonText","StyleSheet","create","backgroundColor","flex","justifyContent","alignItems","marginTop","text","fontSize","color","borderWidth","borderRadius","height","width","textAlign","marginBottom","borderColor"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { View, Text, StyleSheet, Button, TextInput, TouchableHighlight } from 'react-native'\n\nconst NewItem = (props) => {\n\n    const [title, setTitle] = React.useState(\"\")\n    const [desc, setDesc] = React.useState(\"\")\n    const [category, setCategory] = React.useState(\"\")\n    const [country, setCountry] = React.useState(\"\")\n    const [city, setCity] = React.useState(\"\")\n    const [image, setIMG] = React.useState([\"\"])\n    const [price, setPrice] = React.useState(\"\")\n    const [deliveryType, setDType] = React.useState(\"\")\n\n\n    async function onEdit() {\n        console.log(props.apiURI + '/items' + `/${props.itemToEdit.id}`)\n        await fetch(props.apiURI + '/items' + `/${props.itemToEdit.id}`, {\n            method: 'PUT',\n            headers: {\n              \"Authorization\": \"Bearer \" + props.userData.token,\n              \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n                \"title\": title,\n                \"description\": desc,\n                \"category\": category,\n                \"location\": {\n                    \"country\": country,\n                    \"city\":city\n                },\n                \"images\": image,\n                \"price\": price,\n                \"deliveryType\": deliveryType\n              })\n          })\n            .then(response => {\n              if (response.ok == false) {\n                throw new Error(\"HTTP Code \" + response.status + \" - \" + JSON.stringify(response.json()));\n              }\n              return response.json();\n            })\n            .then(json => props.navigation.reset({\n                index: 0,\n                routes: [{ name: 'TodoApp' }],\n            }))\n            .catch(error => {\n              console.log(\"Error message:\")\n              console.log(error.message)\n            });\n    }\n\n   \n    const item = props.itemToEdit\n    return (\n        <View style={styles.screen}>\n            <Text>Title</Text>\n            <TextInput\n                style={styles.input}\n                value={title}\n                placeholder={item.title}\n                onChangeText={value => setTitle(value)}\n            />\n            <Text>Description</Text>\n            <TextInput\n                style={styles.input}\n                value={desc}\n                placeholder={item.description}\n                onChangeText={value => setDesc(value)}\n            />\n            <Text>Category</Text>\n            <TextInput\n                style={styles.input}\n                value={category}\n                placeholder={item.category}\n                onChangeText={value => setCategory(value)}\n            />\n            <Text>Images link</Text>\n            <TextInput\n                style={styles.input}\n                value={image}\n                placeholder='Link to images'\n                onChangeText={value => setIMG([value])}\n            />\n            <Text>Location</Text>\n            <TextInput\n                style={styles.input}\n                value={country}\n                placeholder={item.location.country}\n                onChangeText={value => setCountry(value)}\n            />\n            <TextInput\n                style={styles.input}\n                value={city}\n                placeholder={item.location.city}\n                onChangeText={value => setCity(value)}\n            />\n            <Text>Price</Text>\n            <TextInput\n                style={styles.input}\n                value={price}\n                placeholder='$'\n                onChangeText={value => setPrice(value)}\n            />\n            <Text>Delivery Type</Text>\n            <TextInput\n                style={styles.input}\n                value={deliveryType}\n                placeholder={item.deliveryType}\n                onChangeText={value => setDType(value)}\n            />\n            <TouchableHighlight onPress={() => onEdit()}>\n                <View style={styles.primaryButton}>\n                    <Text style={styles.primaryButtonText}>Edit Item</Text>\n                </View>\n            </TouchableHighlight>\n            <Button\n                title=\"Cancel\"\n                color=\"#000000\"\n                onPress={\n                    () => props.navigation.reset({\n                        index: 0,\n                        routes: [{ name: 'TodoApp' }],\n                    })\n                } />\n        </View>\n    )\n}\n\nconst styles = StyleSheet.create({\n    screen: {\n        backgroundColor: 'rgb(227, 178, 0)',\n        flex: 1,\n        justifyContent: 'center',\n        alignItems: 'center',\n        marginTop: -10\n    },\n    text: {\n        fontSize: 20,\n        color: 'white'\n    },\n    input: {\n        borderWidth: 1,\n        borderRadius: 20,\n        height: 32,\n        width: '90%',\n        backgroundColor: 'white',\n        textAlign: 'center',\n        fontSize: 16,\n        marginTop: 5,\n        marginBottom: 20\n    },\n    primaryButton: {\n        backgroundColor: 'rgb(0, 153, 51)',\n        height: 40,\n        width: 150,\n        justifyContent: 'center',\n        alignItems: 'center',\n        borderColor: 'black',\n        borderWidth: 2,\n        marginTop: 5,\n        marginBottom: 5\n    },\n    primaryButtonText: {\n        color: 'white',\n        fontSize: 20\n    }\n});\n\n\nexport default NewItem\n"]},"metadata":{},"sourceType":"module"}