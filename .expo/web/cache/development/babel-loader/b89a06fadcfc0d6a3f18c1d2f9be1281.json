{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime/regenerator\";\nimport _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nvar _jsxFileName = \"/home/vic/reactnative/shop/components/Authentication/todoApp/AddPost.js\";\nimport React, { Component } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport TouchableHighlight from \"react-native-web/dist/exports/TouchableHighlight\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport * as ImagePicker from 'expo-image-picker';\nimport axios from 'axios';\nimport global from \"../../History/global\";\n\nvar AddPost = function (_Component) {\n  _inherits(AddPost, _Component);\n\n  function AddPost(props) {\n    var _this;\n\n    _classCallCheck(this, AddPost);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(AddPost).call(this, props));\n\n    _this.openImagePickerAsync = function _callee() {\n      var permissionResult, pickerResult;\n      return _regeneratorRuntime.async(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return _regeneratorRuntime.awrap(ImagePicker.requestCameraRollPermissionsAsync());\n\n            case 2:\n              permissionResult = _context.sent;\n\n              if (!(permissionResult.granted === false)) {\n                _context.next = 6;\n                break;\n              }\n\n              alert(\"Permission to access camera roll is required!\");\n              return _context.abrupt(\"return\");\n\n            case 6:\n              _context.next = 8;\n              return _regeneratorRuntime.awrap(ImagePicker.launchImageLibraryAsync());\n\n            case 8:\n              pickerResult = _context.sent;\n\n              _this.setState({\n                pickerResult: pickerResult\n              });\n\n              if (!(pickerResult.cancelled == true)) {\n                _context.next = 13;\n                break;\n              }\n\n              alert('Image picker cancelled or failed');\n              return _context.abrupt(\"return\");\n\n            case 13:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      });\n    };\n\n    _this.onSubmit = function () {\n      console.log('submit');\n\n      var fileNameSplit = _this.state.pickerResult.uri.split('/');\n\n      var fileName = fileNameSplit[fileNameSplit.length - 1];\n      console.log(fileName);\n      var postForm = new FormData();\n      postForm.append('imgCollection', {\n        uri: _this.state.pickerResult.uri,\n        name: fileName,\n        type: 'image/jpeg'\n      });\n      postForm.append('foo', 'bar');\n      postForm.append('title', _this.state.title);\n      postForm.append('description', _this.state.description);\n      postForm.append('category', _this.state.category);\n      postForm.append('location', _this.state.location);\n      postForm.append('delivery', _this.state.delivery);\n      postForm.append('SellerOfName', _this.state.SellerOfName);\n      axios({\n        method: 'post',\n        url: 'http://localhost:4000/post',\n        data: postForm,\n        headers: {\n          \"Authorization\": \"Bearer \" + _this.props.jwt\n        }\n      }).then(function (response) {\n        global.updateData();\n        alert(\"Successfully\");\n      }).catch(function (response) {});\n    };\n\n    _this.state = {\n      title: \"\",\n      description: \"\",\n      category: \"\",\n      location: \"\",\n      price: \"\",\n      delivery: \"\",\n      SellerOfName: \"\"\n    };\n    return _this;\n  }\n\n  _createClass(AddPost, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var buttonText = styles.buttonText,\n          bigButton = styles.bigButton,\n          input = styles.input,\n          container = styles.container,\n          row1 = styles.row1,\n          controlStyle = styles.controlStyle,\n          iconStyle = styles.iconStyle,\n          titleStyle = styles.titleStyle,\n          signInStyle = styles.signInStyle,\n          signupStyle = styles.signupStyle,\n          iconStyle1 = styles.iconStyle1,\n          inactiveStyle = styles.inactiveStyle,\n          activeStyle = styles.activeStyle;\n      console.log(this.state.pickerResult);\n      console.log(this.state.title);\n      return React.createElement(View, {\n        style: container,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        }\n      }, React.createElement(View, {\n        style: row1,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85\n        }\n      }, React.createElement(Text, {\n        style: titleStyle,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86\n        }\n      }, \"Second Hand Shop\")), React.createElement(View, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        }\n      }, React.createElement(TextInput, {\n        style: input,\n        value: this.state.title,\n        placeholder: \"Enter your title\",\n        onChangeText: function onChangeText(entry) {\n          _this2.setState({\n            title: entry\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        }\n      }), React.createElement(TextInput, {\n        style: input,\n        value: this.state.description,\n        placeholder: \"Enter your title\",\n        onChangeText: function onChangeText(entry) {\n          _this2.setState({\n            description: entry\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        }\n      }), React.createElement(TextInput, {\n        style: input,\n        value: this.state.category,\n        placeholder: \"Enter your title\",\n        onChangeText: function onChangeText(entry) {\n          _this2.setState({\n            category: entry\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        }\n      }), React.createElement(TextInput, {\n        style: input,\n        value: this.state.location,\n        placeholder: \"Enter your title\",\n        onChangeText: function onChangeText(entry) {\n          _this2.setState({\n            location: entry\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 119\n        }\n      }), React.createElement(TextInput, {\n        style: input,\n        value: this.state.price,\n        placeholder: \"Enter your title\",\n        onChangeText: function onChangeText(entry) {\n          _this2.setState({\n            price: entry\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 129\n        }\n      }), React.createElement(TextInput, {\n        style: input,\n        value: this.state.delivery,\n        placeholder: \"Enter your title\",\n        onChangeText: function onChangeText(entry) {\n          _this2.setState({\n            delivery: entry\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        }\n      }), React.createElement(TextInput, {\n        style: input,\n        value: this.state.SellerOfName,\n        placeholder: \"Enter your title\",\n        onChangeText: function onChangeText(entry) {\n          _this2.setState({\n            SellerOfName: entry\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        }\n      }), React.createElement(TouchableOpacity, {\n        style: bigButton,\n        onPress: this.openImagePickerAsync,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        }\n      }, React.createElement(Text, {\n        style: buttonText,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        }\n      }, \"PICK A PHOTO\")), React.createElement(TouchableOpacity, {\n        style: bigButton,\n        onPress: function onPress() {\n          return _this2.onSubmit();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 162\n        }\n      }, React.createElement(Text, {\n        style: buttonText,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 163\n        }\n      }, \"SUBMIT\"))));\n    }\n  }]);\n\n  return AddPost;\n}(Component);\n\nexport { AddPost as default };\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#FFA500',\n    padding: 20,\n    justifyContent: 'space-between'\n  },\n  inactiveStyle: {},\n  activeStyle: {\n    color: '#FFA500'\n  },\n  iconStyle: {\n    width: 50,\n    height: 50\n  },\n  row1: {\n    flexDirection: 'row',\n    justifyContent: 'center'\n  },\n  titleStyle: {\n    color: \"#FFF\",\n    fontFamily: 'Avenir',\n    fontSize: 30\n  },\n  iconStyle1: {\n    width: 40,\n    height: 40\n  },\n  controlStyle: {\n    flexDirection: 'row',\n    width: 300\n  },\n  signInStyle: {\n    backgroundColor: '#FFF',\n    alignItems: 'center',\n    flex: 1,\n    paddingVertical: 15,\n    borderBottomLeftRadius: 20,\n    borderTopLeftRadius: 20,\n    marginRight: 1,\n    marginLeft: 60\n  },\n  signupStyle: {\n    backgroundColor: '#FFF',\n    flex: 1,\n    marginLeft: 1,\n    alignItems: 'center',\n    paddingVertical: 15,\n    borderBottomRightRadius: 20,\n    borderTopRightRadius: 20\n  },\n  input: {\n    height: 50,\n    backgroundColor: '#FFF',\n    marginBottom: 10,\n    borderRadius: 20,\n    paddingLeft: 30\n  },\n  bigButton: {\n    marginBottom: 5,\n    height: 50,\n    borderRadius: 20,\n    borderWidth: 1,\n    borderColor: '#FFF',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  buttonText: {\n    fontFamily: 'Avenir',\n    color: '#FFF',\n    fontWeight: '400'\n  }\n});","map":{"version":3,"sources":["/home/vic/reactnative/shop/components/Authentication/todoApp/AddPost.js"],"names":["React","Component","ImagePicker","axios","global","AddPost","props","openImagePickerAsync","requestCameraRollPermissionsAsync","permissionResult","granted","alert","launchImageLibraryAsync","pickerResult","setState","cancelled","onSubmit","console","log","fileNameSplit","state","uri","split","fileName","length","postForm","FormData","append","name","type","title","description","category","location","delivery","SellerOfName","method","url","data","headers","jwt","then","response","updateData","catch","price","buttonText","styles","bigButton","input","container","row1","controlStyle","iconStyle","titleStyle","signInStyle","signupStyle","iconStyle1","inactiveStyle","activeStyle","entry","StyleSheet","create","flex","backgroundColor","padding","justifyContent","color","width","height","flexDirection","fontFamily","fontSize","alignItems","paddingVertical","borderBottomLeftRadius","borderTopLeftRadius","marginRight","marginLeft","borderBottomRightRadius","borderTopRightRadius","marginBottom","borderRadius","paddingLeft","borderWidth","borderColor","fontWeight"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport { View, Text, StyleSheet, Image, TextInput, TouchableHighlight, TouchableOpacity } from 'react-native'\nimport * as ImagePicker from 'expo-image-picker'\nimport axios from 'axios'\nimport global from '../../History/global'\n\nexport default class AddPost extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      title: \"\",\n      description: \"\",\n      category: \"\",\n      location: \"\",\n      price: \"\",\n      delivery: \"\",\n      SellerOfName: \"\",\n    }\n  }\n\n\n  openImagePickerAsync = async () => {\n    var permissionResult = await ImagePicker.requestCameraRollPermissionsAsync();\n\n    if (permissionResult.granted === false) {\n      alert(\"Permission to access camera roll is required!\");\n      return;\n    }\n\n    var pickerResult = await ImagePicker.launchImageLibraryAsync();\n    //console.log(pickerResult.uri);\n    this.setState({ pickerResult: pickerResult })\n    if (pickerResult.cancelled == true) {\n      alert('Image picker cancelled or failed');\n      return;\n    }\n\n  }\n\n\n\n  onSubmit = () => {\n    console.log('submit')\n    var fileNameSplit = this.state.pickerResult.uri.split('/');\n    var fileName = fileNameSplit[fileNameSplit.length - 1];\n    console.log(fileName)\n    let postForm = new FormData();\n    postForm.append('imgCollection', {\n      uri: this.state.pickerResult.uri,\n      name: fileName,\n      type: 'image/jpeg'\n    });\n    postForm.append('foo', 'bar');\n    postForm.append('title', this.state.title);\n    postForm.append('description', this.state.description);\n    postForm.append('category', this.state.category);\n    postForm.append('location', this.state.location);\n    postForm.append('delivery', this.state.delivery);\n    postForm.append('SellerOfName', this.state.SellerOfName)\n\n    axios({\n      method: 'post',\n      url: 'http://localhost:4000/post',\n      data: postForm,\n      headers: { \"Authorization\": \"Bearer \" + this.props.jwt }\n    })\n      .then(function (response) {\n        global.updateData();\n        alert(\"Successfully\")\n      })\n      .catch(function (response) {\n        //handle error\n\n      });\n      \n  }\n\n  render() {\n    const { buttonText, bigButton, input, container, row1, controlStyle, iconStyle, titleStyle, signInStyle, signupStyle, iconStyle1, inactiveStyle, activeStyle } = styles\n    console.log(this.state.pickerResult)\n    console.log(this.state.title)\n    return (\n      <View style={container}>\n        <View style={row1}>\n          <Text style={titleStyle}>Second Hand Shop</Text>\n        </View>\n        <View>\n          <TextInput\n            style={input}\n            value={this.state.title}\n            placeholder=\"Enter your title\"\n            onChangeText={(entry) => {\n              this.setState({\n                title: entry\n              })\n            }}\n          />\n          <TextInput\n            style={input}\n            value={this.state.description}\n            placeholder=\"Enter your title\"\n            onChangeText={(entry) => {\n              this.setState({\n                description: entry\n              })\n            }}\n          />\n          <TextInput\n            style={input}\n            value={this.state.category}\n            placeholder=\"Enter your title\"\n            onChangeText={(entry) => {\n              this.setState({\n                category: entry\n              })\n            }}\n          />\n          <TextInput\n            style={input}\n            value={this.state.location}\n            placeholder=\"Enter your title\"\n            onChangeText={(entry) => {\n              this.setState({\n                location: entry\n              })\n            }}\n          />\n          <TextInput\n            style={input}\n            value={this.state.price}\n            placeholder=\"Enter your title\"\n            onChangeText={(entry) => {\n              this.setState({\n                price: entry\n              })\n            }}\n          />\n          <TextInput\n            style={input}\n            value={this.state.delivery}\n            placeholder=\"Enter your title\"\n            onChangeText={(entry) => {\n              this.setState({\n                delivery: entry\n              })\n            }}\n          />\n          <TextInput\n            style={input}\n            value={this.state.SellerOfName}\n            placeholder=\"Enter your title\"\n            onChangeText={(entry) => {\n              this.setState({\n                SellerOfName: entry\n              })\n            }}\n          />\n          <TouchableOpacity style={bigButton} onPress={this.openImagePickerAsync}>\n            <Text style={buttonText}>PICK A PHOTO</Text>\n          </TouchableOpacity>\n          <TouchableOpacity style={bigButton} onPress={() => this.onSubmit()} >\n            <Text style={buttonText}>SUBMIT</Text>\n          </TouchableOpacity>\n        </View>\n      </View>\n\n    )\n  }\n}\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#FFA500',\n    padding: 20,\n    justifyContent: 'space-between'\n  },\n  inactiveStyle: {\n\n  },\n  activeStyle: {\n    color: '#FFA500'\n  },\n  iconStyle: { width: 50, height: 50 },\n  row1: { flexDirection: 'row', justifyContent: 'center' },\n  titleStyle: { color: \"#FFF\", fontFamily: 'Avenir', fontSize: 30 },\n  iconStyle1: { width: 40, height: 40 },\n  controlStyle: {\n    flexDirection: 'row',\n    width: 300,\n  },\n  signInStyle: {\n    backgroundColor: '#FFF',\n    alignItems: 'center',\n    flex: 1,\n    paddingVertical: 15,\n    borderBottomLeftRadius: 20,\n    borderTopLeftRadius: 20,\n    marginRight: 1,\n    marginLeft: 60\n  },\n  signupStyle: {\n    backgroundColor: '#FFF',\n    flex: 1,\n    marginLeft: 1,\n    alignItems: 'center',\n    paddingVertical: 15,\n    borderBottomRightRadius: 20,\n    borderTopRightRadius: 20\n  },\n  input: {\n    height: 50,\n    backgroundColor: '#FFF',\n    marginBottom: 10,\n    borderRadius: 20,\n    paddingLeft: 30\n  },\n  bigButton: {\n    marginBottom: 5,\n    height: 50,\n    borderRadius: 20,\n    borderWidth: 1,\n    borderColor: '#FFF',\n    alignItems: 'center',\n    justifyContent: 'center'\n  },\n  buttonText: {\n    fontFamily: 'Avenir',\n    color: '#FFF',\n    fontWeight: '400'\n  }\n});\n\n\n\n/*<View>\n<TouchableOpacity onPress={this.openImagePickerAsync} style={{ borderWidth: 1, borderColor: 'black'}}>\n  <Text>Pick a photo</Text>\n</TouchableOpacity>\n</View>*/"]},"metadata":{},"sourceType":"module"}